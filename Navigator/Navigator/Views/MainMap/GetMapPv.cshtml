@model Abstractions.ViewModels.MainMapVm

<main id="main">
    <div class="levels-div">
        <span class="levels-span">Этаж:</span>
        @foreach (var level in Model.AllLevels)
        {
            // Todo : добавить добавление класса, если этажи равны
            if (level.Id == Model.CurrentLevelId)
            {
                <button class="level-btn currentLevel" type="submit">
                    @Ajax.ActionLink(level.Number.ToString(), "GetMapPv", "MainMap", new { levelId = level.Id },
                    new AjaxOptions { UpdateTargetId = "main" })
                </button>
            }
            else
            {
                //Кнопка этажа
                <button class="level-btn" type="submit">
                    @Ajax.ActionLink(level.Number.ToString(), "GetMapPv", "MainMap", new { levelId = level.Id },
                    new AjaxOptions { UpdateTargetId = "main" })
                </button>
            }
        }

        @for(int i=3;i<6;i++)
        {
            <button class="level-btn" type="submit">
                @Ajax.ActionLink(i.ToString(), "GetMapPv", "MainMap",
               new AjaxOptions { UpdateTargetId = "main" })
                </button>
        }
    </div>

    <div class="svg-div scheme" id="map">
        <svg viewBox="100 -10 1250 420">
            <polygon class="border-plg" points="@Model.BorderString" stroke="black" />
            @foreach (var stair in (Model.Stairs))
            {
                <polyline class="stairs" points="@stair.BorderString" />
                <image xlink:href="https://svgsilh.com/svg/44066-795548.svg" width="@stair.Width" height="@stair.Height" x="@stair.MinX" y="@stair.MinY" />
            }

            @foreach (var room in (Model.Rooms))
            {
                <polyline class="pl-item room" points="@room.BorderString" data-id="@room.ItemId" fill="url(#pattern2)" />
            }

            @foreach (var wall in (Model.Walls))
            {
                <polyline points="@wall.BorderString" />
            }

            @foreach (var wcM in (Model.WcMans))
            {
                <polyline class="pl-item wcM" points="@wcM.BorderString" />
            }

            @foreach (var wcW in (Model.WcWomans))
            {
                <polyline class="pl-item wcW" points="@wcW.BorderString" />
            }
            <polyline class="path" points="" />

            @*<image xlink:href="https://svgsilh.com/svg/44066-795548.svg" width="20" height="30" x="210" y="80"></image>*@

        </svg>

        @foreach (var room in (Model.Rooms))
        {
            <div class="scheme-item" data-id="@room.ItemId">

                @*Отображение названия кабинета*@
                @*<div class="scheme-name">@room.Number</div>*@
                <div class="scheme-popup">
                    <p>
                        <strong name="value">@room.Number</strong>
                        <br>
                        @room.Description
                    </p>
                    <button name="from" data-value=@room.Number>Отсюда</button>
                    <button name="to" data-value=@room.Number>Сюда</button>
                </div>
            </div>
        }
    </div>
</main>


